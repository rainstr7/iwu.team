<meta charset="utf-8">
<script>
/*

Дан массив целых чисел. Найдите сумму чисел, которые в m подряд идущих числах повторяются не менее n раз. Каждое число, удовлетворяющее условию, должно учитываться только один раз.   

Пример: 

numbers = [1, 3, 5, 6, 5, 7, 5, 3, 3], m = 3, n = 2  
sum_of_unique(numbers, m, n) -->  8 // 5 + 3
Интервалы по m чисел:  [1, 3, 5], [3, 5, 6], [5, 6, 5], [6, 5, 7], [5, 7, 5], [7, 5, 3], [5, 3, 3]

5 повторяется n раз в интервалах [5, 6, 5] и [5, 7, 5],  но по условию 5 должно учитываться только один раз
3 повторяется n раз в интервале [5, 3, 3]  
На входе:   

numbers - массив целых чисел длиной не менее m  
m - величина диапазона для поиска повторяющихся значений, m больше или равен 2
n - количество повторов в заданном диапазоне (m), n больше или равен 2  
На выходе: сумма уникальных чисел, удовлетворяющих условию
*/
    function findSame(array, n){
    var i=0;
    var j=0;    
    var nbr=0;
    var repeat=0;
        
    while(i < array.length){
        nbr=array[i];
        j=0;
        repeat=0;
        while(j < array.length){    
            if (nbr == array[j]){
                repeat++;
        }
        j++;    
        }
     if ((repeat) == n){
        return(nbr);
    }        
    i++;
    }   
        return (0);          
    }

    function dontRepeat(nbr, sum){
        var i=0;
        while(i < sum.length){
            if (nbr == sum[i]){
                return(0)
            }
            i++;
        }
    return(nbr);    
    }
    
    function arraySum(arr){
        var sum=0;
        var i=0;
        
        for(var i = 0; i < arr.length; i++){
            sum += arr[i];
    }
    return(sum);
    }
    
    function SumIncludeNbr(numbers, m, n){
    var sum=[];
    var i=0;  
    var j=0;
    var arr=[];
    var nbr=0;
    while((i+m) <= numbers.length){    
        while(j < m){
            arr[j]=numbers[i+j];
            j++;
        }
        nbr=findSame(arr, n);
            if (nbr != 0){
                if (dontRepeat(nbr, sum) !=0){
                    sum.push(nbr);
            }            
        }
    j=0; 
    i++;    
    }
    return(arraySum(sum))    
    }
    
var numbers = [1, 3, 5, 6, 5, 7, 5, 3, 3], m = 3, n = 2 
var m = 3;
var n = 2;
alert(SumIncludeNbr(numbers,m,n));

</script>